<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mac.demo.mappers.BoardMapper">

	<insert id="save" parameterType="com.mac.demo.model.Board">
		INSERT INTO free_board(NUMMAC,NICKNAMEMAC,TITLEMAC,CONTENTSMAC,WDATEMAC,PCODEMAC)
		VALUES(BOARD_NUM.NEXTVAL,#{nickNameMac},#{titleMac},#{contentsMac},SYSDATE,#{pcodeMac})
	</insert>

	<select id="getList" resultType="com.mac.demo.model.Board">
		SELECT * FROM free_board
	</select>
	
	<select id="getAdsList" resultType="com.mac.demo.model.Board">
		SELECT * FROM ads_board
	</select>
	
	<select id="getNoticeList" resultType="com.mac.demo.model.Board">
		SELECT * FROM notice_board
	</select>
	
	<select id="getDetail" resultType="com.mac.demo.model.Board">
		SELECT * FROM free_board WHERE NUMMAC=#{numMac}
	</select>

	<update id="edit" parameterType="com.mac.demo.model.Board">
		UPDATE free_board SET title=#{title}, contents=#{contents} WHERE num=#{num}
	</update>
	
	<delete id="delete" parameterType="com.mac.demo.model.Board">
		DELETE FROM free_board WHERE NUMMAC=#{numMac}
	</delete>
	
	
	<!-- 추가한 부분 닉네임으로 각각의 게시판의 게시물 가져오기 -->
	<select id="getMypageInFreeBoard" resultType="com.mac.demo.model.Board" parameterType="String">
		SELECT * FROM free_board WHERE nickNameMac=#{nickNameMac}
	</select>
	<select id="getMypageInAdsBoard" resultType="com.mac.demo.model.Board" parameterType="String">
		SELECT * FROM ads_board WHERE nickNameMac=#{nickNameMac}
	</select>

</mapper>